<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판 서비스</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

</head>
<body>
    <div th:replace = "common/header :: headerFragment"></div>
   <div class="container">
        <div class="page-header"><h3>게시글 상세조회</h3></div>
        <table class="table">
            <tr><td>id</td><td th:text="${post.id}"></td></tr>
            <tr><td>title</td><td th:text="${post.title}"></td></tr>
            <tr><td>content</td><td style="white-space: pre-wrap; word-break: break-all;" th:text="${post.contents}"></td></tr>
            <tr><td>작성자</td><td th:text="${post.author_email}"></td></tr>
            <tr><td>등록일</td><td th:text="${post.createdTime}"></td></tr>
            <tr><td>수저일</td><td th:text="${post.updateTime}"></td></tr>
        </table>
       <div class="d-flex flex-row-reverse">

           <a th:href="@{/post/delete/{id}(id=${post.id})}" style="btn btn-primary">
               <button class="btn btn-primary m-1">삭제</button></a>
           <button class="btn btn-primary m-1" onclick="showUpdateForm()">수정</button>
       </div>

       <br>
       <div id="update-form" class="mt-4">
           <form th:action="@{/post/update/{id}(id=${post.id})}" method="post">
               <div class="form-group">
                   <label for="title">제목</label>
                   <input type="text" class="form-control" name="title" id="title" th:value="${post.title}">
               </div>

               <div class="form-group">
                   <label for="contents">내용</label>
                   <textarea  id="contents" name="contents" th:text="${post.contents}" rows="10" maxlength="800" class="form-control"></textarea>
               </div>
               <div class="form-group">
                   <button type="submit" class="btn btn-secondary m-1">수정완료</button>
               </div>
           </form>
       </div>
   </div>
    <script>
        function showUpdateForm(){
            document.getElementById('update-form').style.display = 'block';
        }
    </script>
</body>
</html>